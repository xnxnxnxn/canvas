<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	#canvas1{border: 1px solid red;}
	</style>
</head>
<body>
	<canvas id="canvas1" width="800" height="500"></canvas>
</body>

<script>
	var canvas = document.getElementById('canvas1');
	var context = canvas.getContext('2d');

	/*
		canvas动画的原理: 绘制图像 - 清除图像 - 更新位置并绘制图像 - 清除图像 - 更新位置并绘制图像......

		setInterval / 坐标值 = 变量 / 坐标值不断的发生改变.
	 */

	 context.beginPath();
	 context.fillStyle = 'red';
	 var x = 0,y = 0,width = 100,height = 100;
	 context.fillRect(x,y,width,height);

	 var speedX = 2;
	 var speedY = 2;

	 setInterval(function(){
	 	context.clearRect(x,y,width,height);

	 	// 改变坐标值
	 	x += speedX;

	 	if (x > canvas.width - width) {
	 		speedX *= -1;
	 	}else if (x < 0) {
	 		speedX *= -1;
	 	}

	 	y += speedY;
	 	if (y > canvas.height - height) {
	 		speedY *= -1;
	 	}else if (y < 0) {
	 		speedY *= -1;
	 	}

	 	// 绘制图像
	 	context.fillRect(x,y,width,height);
	 },30);
</script>

</html>